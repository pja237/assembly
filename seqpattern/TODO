[ ] make sp.asm into a library and write C wrapper around it
